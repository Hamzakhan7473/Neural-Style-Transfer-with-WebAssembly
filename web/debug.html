<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI Debug Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success { color: #28a745; }
        .error { color: #dc3545; }
        .info { color: #17a2b8; }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0056b3; }
        #log {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        .file-upload {
            border: 2px dashed #ddd;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            margin: 20px 0;
            position: relative;
            cursor: pointer;
        }
        .file-upload:hover {
            border-color: #007bff;
            background: rgba(0, 123, 255, 0.05);
        }
        .file-upload input[type="file"] {
            position: absolute;
            inset: 0;
            opacity: 0;
            cursor: pointer;
        }
        select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üîç UI Debug Test</h1>
    
    <div class="test-section">
        <h2>1. File Upload Test</h2>
        <div class="file-upload">
            <input id="fileInput" type="file" accept="image/*" />
            <div>üìÅ Click to upload image</div>
        </div>
        <div id="fileStatus">No file selected</div>
    </div>
    
    <div class="test-section">
        <h2>2. Style Selection Test</h2>
        <select id="styleSelect">
            <option value="">Choose a style...</option>
            <option value="starry_night">Van Gogh - Starry Night</option>
            <option value="picasso_cubist">Picasso - Cubist</option>
            <option value="ukiyo_e">Japanese Ukiyo-e</option>
            <option value="cyberpunk">Cyberpunk Neon</option>
            <option value="abstract_expr">Abstract Expressionism</option>
        </select>
        <div id="styleStatus">No style selected</div>
    </div>
    
    <div class="test-section">
        <h2>3. Event Listener Test</h2>
        <button id="testBtn">Test Event Listeners</button>
        <div id="eventStatus"></div>
    </div>
    
    <div class="test-section">
        <h2>4. Console Log</h2>
        <div id="log"></div>
    </div>

    <script>
        const log = document.getElementById('log');
        
        function addLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] ${message}\n`;
            log.textContent += logEntry;
            log.scrollTop = log.scrollHeight;
            console.log(message);
        }
        
        // Test file input
        const fileInput = document.getElementById('fileInput');
        const fileStatus = document.getElementById('fileStatus');
        
        fileInput.addEventListener('change', (e) => {
            addLog('üìÅ File input change event triggered');
            if (e.target.files.length > 0) {
                const file = e.target.files[0];
                fileStatus.innerHTML = `<span class="success">‚úÖ File selected: ${file.name} (${(file.size/1024).toFixed(1)} KB)</span>`;
                addLog(`üìÅ File selected: ${file.name}, size: ${(file.size/1024).toFixed(1)} KB`);
                
                // Test image loading
                const img = new Image();
                img.onload = () => {
                    addLog(`üñºÔ∏è Image loaded: ${img.width}x${img.height}`);
                    fileStatus.innerHTML += `<br><span class="info">üñºÔ∏è Image dimensions: ${img.width}x${img.height}</span>`;
                };
                img.onerror = () => {
                    addLog('‚ùå Failed to load image');
                    fileStatus.innerHTML += '<br><span class="error">‚ùå Failed to load image</span>';
                };
                img.src = URL.createObjectURL(file);
            } else {
                fileStatus.innerHTML = '<span class="info">No file selected</span>';
            }
        });
        
        // Test style selection
        const styleSelect = document.getElementById('styleSelect');
        const styleStatus = document.getElementById('styleStatus');
        
        styleSelect.addEventListener('change', (e) => {
            addLog(`üé≠ Style selection change event triggered: ${e.target.value}`);
            if (e.target.value) {
                styleStatus.innerHTML = `<span class="success">‚úÖ Style selected: ${e.target.value}</span>`;
            } else {
                styleStatus.innerHTML = '<span class="info">No style selected</span>';
            }
        });
        
        // Test button
        const testBtn = document.getElementById('testBtn');
        const eventStatus = document.getElementById('eventStatus');
        
        testBtn.addEventListener('click', () => {
            addLog('üîò Test button clicked');
            eventStatus.innerHTML = '<span class="success">‚úÖ Event listeners are working!</span>';
        });
        
        // Initial log
        addLog('üß™ UI Debug Test Page Loaded');
        addLog('üí° Try uploading an image and selecting a style');
        
        // Check if elements exist
        addLog('üîç Checking DOM elements...');
        if (fileInput) addLog('‚úÖ File input found');
        else addLog('‚ùå File input not found');
        
        if (styleSelect) addLog('‚úÖ Style select found');
        else addLog('‚ùå Style select not found');
        
        if (testBtn) addLog('‚úÖ Test button found');
        else addLog('‚ùå Test button not found');
    </script>
</body>
</html>
